@model GalleryViewModel
@{
    ViewBag.Title = Model.Title;
}

<div class=" row">
    <div class="col-md-10">

        @if (ViewBag.ExplikIntroduction != "")
        {
            <div id="pagecontent" style="text-align: justify;text-justify: inter-word">
                @MvcHtmlString.Create(ViewBag.ExplikIntroduction)
                <br/>
            </div>
        }

        <h4>@Model.Title</h4>
        <table>
            @foreach (PageViewModel page in Model.listPages)
            {
                if (page.IsPublished)
                {
                <tr>
                    <td class='searchresult-td'>
                        <span class="searchresult-title">
                            @MvcHtmlString.Create(PageViewModel.EncodeImageRanking(page.Ranking))
                            <a href="@Url.Action("Index", "Wiki", new { id = page.Id, title = page.EncodedTitle })">@page.Title</a>
                        </span><br />
                        <span class="searchresult-summary">@MvcHtmlString.Create(page.ContentSummary) ...</span><br />
                        @MvcHtmlString.Create(PageViewModel.EncodeTags(page))
                        <span>
                            @if (@page.CreatedBy.ToLower() == "explik")
                            {
                                <span class="searchresult-date">@page.PublishedOn.Date.ToString("dd/MM/yyyy") - @page.NbView @SiteStrings.Page_Info_NbView</span>
                            }
                            else
                            {
                                <span class="searchresult-date">@page.CreatedBy - @page.PublishedOn.Date.ToString("dd/MM/yyyy") - @page.NbView @SiteStrings.Page_Info_NbView</span>
                            }
                            <span style="display: inline-block;margin-bottom:-2px;">@MvcHtmlString.Create(PageViewModel.EncodePageRating(page))</span>
                        </span>
                    </td>
                </tr>
                }
            }
        </table>
    </div>
</div>

